# 메인 마크다운(README.md)
[▶ 메인 마크다운.md](README.md)

# *Ch03. Redis의 기본개념*
<details>
<summary>펼치기/접기</summary>

## 01. Redis 기본 설명(개념, 장점, 단점, 목적)

<details>
<summary>펼치기/접기</summary>

### Redis

`Re`mote `Di`*ctionary `S`torage  
Redis : memory 기반의 data 저장소 → 휘발성


- Disk가 아닌 Memory에 데이터를 저장
- Single Thread (CPU Thread 1개 사용)
- 초당 5만 ~ 25만 Request 실행가능  
key-value 형식으로 데이터 저장

### 장점 : Read/Write 속도

- Hardware 차이에서 오는 기본적인 performance gap
  HDD, SSD, RAM 등 여러 종류의 Hardware에 따라 속도가 확연히 차이난다.
- 다양한 type의 아키텍처를 지원한다. (Single, Master-Slave, Sentinel, Cluster)
  Sentinel: 마스터 슬레이브에서 발생될 수 있는 High Availability를 구현하기 위해 마스터의 이동이나 조정에 대한  
  역할을 수행하는 노드를 따로 두어 좀더 안정적인 레디스 운영을 가능하도록 만드는 구조
  Cluster : 복수개의 Master, 복수개의 Replica를 둬서 클러스터로 구성하여 재난이나 안전, 자체 하드웨어의 문제로 인해  
  Redis 서비스가 중단되지 않도록 하는 구조
- Partitioning
  데이터를 저장 할 경우 통으로 저장하는것이 아니라 여러 노드에 분산되서 데이터를 액세스하거나  
  그다음 데이터를 넣을 때도 파티셔닝 룰에 따라 분산되게 된다.
- Popular
  지원하는 라이브러리 같은 것들이 굉장히 다양(C#, Java, Python 등 그외 레어한 언어들에 대해서도)하며,  
  어떤 이유로 개발을 하다가 막히거나 에러를 발견 한 부분들에 대해서도 여러 조언이나 개선을 위한 방법들,  
  Recommendation 들을 비교적 편하게 찾아볼 수 있다.
- 
### 단점 : 휘발성

- `AOF, RDB Snapshot을 통해 Disk에 저장하여 휘발성 문제를 해소`  
  (램에 저장되어 있는 데이터들을 주기적으로 사용자가 선택한 룰에 따라 디스크에 저장하게 된다.)
- `Single Thread`  
  (데이터 정합성을 위함)
- `Memory Fragmentation`  
  Read/Write를 반복 하면서 메모리 자체에 완벽하게 들어가 있는 만큼만 사용되는게 아니다.    
  이미 데이터가 없는데도 사용하고 있다고 인식할 수 있다.  
  실제 가진 데이터보다 덜 이용하게 되거나 데이터가 있는데 없다고 인식되어 데이터가 저장되지 않는 등의 장애가 있음.
- `Big Size Data에 적합하지 않다`  
  휘발성이라는 문제를 해결하기 위해서 메모리로부터 데이터를 읽어들어 들이거나 변경된 부분에 대해 디스크에 Write하게 되는데  
  데이터가 너무 많이 들어가 있게 되면 디스크에 쓰는 시간이 굉장히 오래걸린다.  
  디스크 쓰는 시간이 너무 오래 걸리게 돼 버리면 리플리케이션과 싱크가 맞지 않는 경우가 생길 수 있고,  
  그 자체의 역할로 인해서 다른 요청들이 대기를 하고있는 상황이 있을 수 있다.  
  따라서 디스크 사용량을 줄이기 위해 다양한 옵션들을 설정하기도 한다.  
  램 용량을 많이 늘려 캐싱 용도가 아닌 데이터들도 저장해서 사용하면 안되냐 라고 할 수 있지만 너무 많은 데이터를 넣는 것은 적합하지 않다.

### 목적 : Caching

#### 캐싱이란?
자주 반복되는 자주 사용되고 빠르게 응답해야 되는 것들에 대한 준비를 미리 하는것.  
실제 원본에 가지 않아도 미리 임시적으로 갖고 있는 빠르고 효율성 높은 자원으로, 캐싱 구현시 사용자에게 좀 더  빠른 응답을 줄 수 있다.

- **클라이언트**    
  HTTP 캐시 헤더, 브라우저
- **DNS**  
  DNS 서버
- **웹**  
  HTTP 캐시 헤더, CDN, 역방향 프록시, 웹 액셀러레이터, 키-값 스토어
- **앱**  
  키-값 데이터 스토어, 로컬 캐시
- **데이터베이스**  
  데이터베이스 버퍼, 키-값 데이터 스토어

위와 같이 굉장히 다양한 계층에서 HTTP 캐시, DNS 서버, CDN, 로컬 캐시 등으로 사용될 수 있다.
캐시 계층을 따로 둬서 자체로 가지고 있는게 아니라 캐싱을 쓸 때는 Redis에 저장하도록 설정 해놓은 다음  
Redis에서 각 계층마다 필요한 데이터를 읽어가는 것이다.

### 일반적 사용 : Session Store, List Data Caching
(List 형태의 데이터가 응답이 굉장히 빠르다. - 일반 SQL RDB 서버보다 10배정도 이상의 성능을 낸다.)


</details>
</details>